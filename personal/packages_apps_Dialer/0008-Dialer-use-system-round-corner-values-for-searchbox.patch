From 144718cc7ffc8323807d4a21cca632c0669b8af2 Mon Sep 17 00:00:00 2001
From: Victor Bo <bvoid@yandex.ru>
Date: Mon, 19 Jul 2021 18:38:55 +0000
Subject: [PATCH 8/8] Dialer: use system round corner values for searchbox

  based on
  https://github.com/crdroidandroid/android_packages_apps_Dialer/commit/2f691a14f640975bbb42f8d893c4dd452f98d5b7
---
 java/com/android/dialer/app/res/drawable/rounded_corner.xml     | 2 +-
 java/com/android/dialer/app/res/layout/search_edittext.xml      | 2 ++
 .../res/drawable/search_bar_background_rounded_corners.xml      | 2 +-
 3 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/java/com/android/dialer/app/res/drawable/rounded_corner.xml b/java/com/android/dialer/app/res/drawable/rounded_corner.xml
index b4c10066d..d95e01717 100644
--- a/java/com/android/dialer/app/res/drawable/rounded_corner.xml
+++ b/java/com/android/dialer/app/res/drawable/rounded_corner.xml
@@ -18,5 +18,5 @@
 <shape xmlns:android="http://schemas.android.com/apk/res/android"
   android:shape="rectangle">
   <solid android:color="?android:attr/colorBackgroundFloating"/>
-  <corners android:radius="2dp"/>
+  <corners android:radius="@*android:dimen/rounded_corners_ui_core"/>
 </shape>
diff --git a/java/com/android/dialer/app/res/layout/search_edittext.xml b/java/com/android/dialer/app/res/layout/search_edittext.xml
index aba5ba8ea..ccc1415f4 100644
--- a/java/com/android/dialer/app/res/layout/search_edittext.xml
+++ b/java/com/android/dialer/app/res/layout/search_edittext.xml
@@ -14,6 +14,7 @@
      limitations under the License.
 -->
 <view xmlns:android="http://schemas.android.com/apk/res/android"
+  xmlns:app="http://schemas.android.com/apk/res-auto"
   android:id="@+id/search_view_container"
   class="com.android.dialer.app.widget.SearchEditTextLayout"
   android:layout_width="match_parent"
@@ -28,6 +29,7 @@
   android:orientation="horizontal">
 
   <RelativeLayout
+    app:cardCornerRadius="@*android:dimen/rounded_corners_ui_core"
     android:id="@+id/search_box_collapsed"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
diff --git a/java/com/android/dialer/main/impl/toolbar/res/drawable/search_bar_background_rounded_corners.xml b/java/com/android/dialer/main/impl/toolbar/res/drawable/search_bar_background_rounded_corners.xml
index 956238f85..a15ceff87 100644
--- a/java/com/android/dialer/main/impl/toolbar/res/drawable/search_bar_background_rounded_corners.xml
+++ b/java/com/android/dialer/main/impl/toolbar/res/drawable/search_bar_background_rounded_corners.xml
@@ -17,5 +17,5 @@
 <shape xmlns:android="http://schemas.android.com/apk/res/android"
   android:shape="rectangle">
   <solid android:color="?android:attr/colorBackgroundFloating"/>
-  <corners android:radius="6dp"/>
+  <corners android:radius="@*android:dimen/rounded_corners_ui_core"/>
 </shape>
-- 
2.30.2

